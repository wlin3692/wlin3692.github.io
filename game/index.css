/* ===== 通用基础 ===== */
.app { text-align: center; margin: 0; padding: 0; overflow: hidden; touch-action: none; }
body, html { margin: 0; padding: 0; overflow: hidden; font-family: sans-serif; background: #f0f0f0; }

/* ===== 顶部控制栏 ===== */
.settings { margin-bottom: 10px; display: flex; justify-content: center; align-items: center; gap: 10px; flex-wrap: wrap; }
.btn, .levels { font-size: medium; width: 100px; height: 40px; }
.mode-switch { width: 100%; display: flex; gap: 6px; margin-top: 8px; justify-content: center; }
.mode-switch button { flex: 1; padding: 10px 0; font-size: 14px; border: 2px solid #666; background: #ddd; }
.mode-switch button.active { background: #ffcc00; border-color: #000; }

/* ===== 主面板 ===== */
.main { display: inline-block; background-color: #c0c0c0; padding: 10px; max-width: 98vw; box-sizing: border-box; }
.title { display: flex; justify-content: space-between; align-items: center; border: 5px solid #808080; height: 70px; margin-bottom: 8px; }
.mine-remain, .time { padding: 8px; display: flex; gap: 2px; }
.face { margin: 8px; width: 46px; height: 46px; border-left: 5px solid #fff; border-top: 5px solid #fff; border-right: 3px solid #808080; border-bottom: 3px solid #808080; }
.number { height: 100%; }

/* ===== 格子基础 ===== */
.cell-grid { display: flex; flex-direction: column; gap: 1px; background: #999; padding: 2px; border: 3px solid #666; touch-action: none; user-select: none; }
.row { display: flex; flex-wrap: nowrap; gap: 0; }
.row > div { flex: 0 0 auto; width: 8vw; height: 8vw; max-width: 30px; max-height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; box-sizing: border-box; }
.cell-cover { background: #ddd; border: 2px outset #eee; }
.cell { background: #ccc; border: 1px solid #aaa; }
.icon { width: 80%; height: 80%; pointer-events: none; }

/* ===== 电脑端 ===== */
.board { display: inline-block; border: 5px solid #808080; }

/* ===== 手机端：计时器/笑脸/雷数 随格子等比缩放 ===== */
@media (max-width: 1200px) {
  /* 标题栏高度 = 格子高度 */
  .title {
    height: 10vw;
    max-height: 50px;
    padding: 1vw;
  }
  /* 数字图片高度 = 格子高度 */
  .number {
    height: 8vw;
    max-height: 30px;
  }
  /* 笑脸按钮尺寸 = 格子 */
  .face {
    width: 8vw;
    height: 8vw;
    max-width: 30px;
    max-height: 30px;
    margin: 1vw;
    border-width: 0.5vw;
  }
  /* 剩余雷数、时间容器同步 */
  .mine-remain, .time {
    gap: 1vw;
    padding: 1vw;
  }

  /* 画布缩放（双指放大） */
  .viewport {
    width: 100vw;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: none;
  }
  .canvas {
     transform: scale(calc(100vw / (8vw * var(--cols) + 2px)));
  }
  .main { padding: 8px; }
  .board-simple { width: 98vw; max-width: 380px; }
  .board-medium { width: 98vw; max-width: 650px; }
  .board-hard { width: 98vw; max-width: 1200px; }
}
/* ===== 手机端：计时器与棋盘宽度完全一致 ===== */
@media (max-width: 1200px) {
  /* 标题栏宽度 = 棋盘总宽 */
  .title {
    width: calc(8vw * var(--cols) + 2px);   /* 8vw*列数 + 间隙 */
    max-width: calc(30px * var(--cols) + 2px);
    margin: 0 auto;               /* 居中 */
    height: 10vw;
    max-height: 50px;
    padding: 1vw 0;
    box-sizing: border-box;
    gap: 1vw;
  }

  /* 三个区域平分宽度 */
  .mine-remain, .time {
    flex: 1 1 0;
    gap: 1vw;
    padding: 0 1vw;
    justify-content: center;
  }
  .face {
    flex: 0 0 auto;
    width: 8vw;
    height: 8vw;
    max-width: 30px;
    max-height: 30px;
    margin: 0;
  }

  /* 数字图片 = 格子尺寸 */
  .number {
    height: 8vw;
    max-height: 30px;
  }
}